<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>3 Some Useful Bits of R | (Re)Doing Bayesain Data Analysis</title>
  <meta name="description" content="Code, exercises and discussion to accompany a course taught from Kruschke’s Doing Bayesian Data Analysis (2ed)">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="3 Some Useful Bits of R | (Re)Doing Bayesain Data Analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Code, exercises and discussion to accompany a course taught from Kruschke’s Doing Bayesian Data Analysis (2ed)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Some Useful Bits of R | (Re)Doing Bayesain Data Analysis" />
  
  <meta name="twitter:description" content="Code, exercises and discussion to accompany a course taught from Kruschke’s Doing Bayesian Data Analysis (2ed)" />
  

<meta name="author" content="R Pruim">


<meta name="date" content="2019-04-13">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="credibility-models-and-parameters.html">
<link rel="next" href="probability.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">(Re)Doing Bayesian Data Analysis</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> What’s in These Notes</a></li>
<li class="part"><span><b>I The Basics: Models, Probability, Bayes, and R</b></span></li>
<li class="chapter" data-level="2" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html"><i class="fa fa-check"></i><b>2</b> Credibility, Models, and Parameters</a><ul>
<li class="chapter" data-level="2.1" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#the-steps-of-bayesian-data-analysis"><i class="fa fa-check"></i><b>2.1</b> The Steps of Bayesian Data Analysis</a><ul>
<li class="chapter" data-level="2.1.1" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#r-code"><i class="fa fa-check"></i><b>2.1.1</b> R code</a></li>
<li class="chapter" data-level="2.1.2" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#r-packages"><i class="fa fa-check"></i><b>2.1.2</b> R packages</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#example-1-which-coin-is-it"><i class="fa fa-check"></i><b>2.2</b> Example 1: Which coin is it?</a><ul>
<li class="chapter" data-level="2.2.1" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#freedom-of-choice"><i class="fa fa-check"></i><b>2.2.1</b> Freedom of choice</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#distributions"><i class="fa fa-check"></i><b>2.3</b> Distributions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#beta-distributions"><i class="fa fa-check"></i><b>2.3.1</b> Beta distributions</a></li>
<li class="chapter" data-level="2.3.2" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#normal-distributions"><i class="fa fa-check"></i><b>2.3.2</b> Normal distributions</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#example-2-height-vs-weight"><i class="fa fa-check"></i><b>2.4</b> Example 2: Height vs Weight</a><ul>
<li class="chapter" data-level="2.4.1" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#data"><i class="fa fa-check"></i><b>2.4.1</b> Data</a></li>
<li class="chapter" data-level="2.4.2" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#describing-a-model-for-the-relationship-between-height-and-weight"><i class="fa fa-check"></i><b>2.4.2</b> Describing a model for the relationship between height and weight</a></li>
<li class="chapter" data-level="2.4.3" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#prior"><i class="fa fa-check"></i><b>2.4.3</b> Prior</a></li>
<li class="chapter" data-level="2.4.4" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#posterior"><i class="fa fa-check"></i><b>2.4.4</b> Posterior</a></li>
<li class="chapter" data-level="2.4.5" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#posterior-predictive-check"><i class="fa fa-check"></i><b>2.4.5</b> Posterior Predictive Check</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#where-do-we-go-from-here"><i class="fa fa-check"></i><b>2.5</b> Where do we go from here?</a></li>
<li class="chapter" data-level="2.6" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#ch02-exercises"><i class="fa fa-check"></i><b>2.6</b> Exercises</a></li>
<li class="chapter" data-level="2.7" data-path="credibility-models-and-parameters.html"><a href="credibility-models-and-parameters.html#footnotes"><i class="fa fa-check"></i><b>2.7</b> Footnotes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html"><i class="fa fa-check"></i><b>3</b> Some Useful Bits of R</a><ul>
<li class="chapter" data-level="3.1" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#style-guide"><i class="fa fa-check"></i><b>3.1</b> You Gotta Have Style</a><ul>
<li class="chapter" data-level="3.1.1" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#an-additional-note-about-homework"><i class="fa fa-check"></i><b>3.1.1</b> An additional note about homework</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#vectors-lists-and-data-frames"><i class="fa fa-check"></i><b>3.2</b> Vectors, Lists, and Data Frames</a><ul>
<li class="chapter" data-level="3.2.1" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#vectors"><i class="fa fa-check"></i><b>3.2.1</b> Vectors</a></li>
<li class="chapter" data-level="3.2.2" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#lists"><i class="fa fa-check"></i><b>3.2.2</b> Lists</a></li>
<li class="chapter" data-level="3.2.3" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#data-frames-for-rectangular-data"><i class="fa fa-check"></i><b>3.2.3</b> Data frames for rectangular data</a></li>
<li class="chapter" data-level="3.2.4" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#other-types-of-data"><i class="fa fa-check"></i><b>3.2.4</b> Other types of data</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#plotting-with-ggformula"><i class="fa fa-check"></i><b>3.3</b> Plotting with ggformula</a></li>
<li class="chapter" data-level="3.4" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#creating-data-with-expand.grid"><i class="fa fa-check"></i><b>3.4</b> Creating data with expand.grid()</a></li>
<li class="chapter" data-level="3.5" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#transforming-and-summarizing-data-dplyr-and-tidyr"><i class="fa fa-check"></i><b>3.5</b> Transforming and summarizing data dplyr and tidyr</a></li>
<li class="chapter" data-level="3.6" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#writing-functions"><i class="fa fa-check"></i><b>3.6</b> Writing Functions</a><ul>
<li class="chapter" data-level="3.6.1" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#why-write-functions"><i class="fa fa-check"></i><b>3.6.1</b> Why write functions?</a></li>
<li class="chapter" data-level="3.6.2" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#function-parts"><i class="fa fa-check"></i><b>3.6.2</b> Function parts</a></li>
<li class="chapter" data-level="3.6.3" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#the-function-function-has-its-function"><i class="fa fa-check"></i><b>3.6.3</b> The function() function has its function</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#some-common-error-messages"><i class="fa fa-check"></i><b>3.7</b> Some common error messages</a><ul>
<li class="chapter" data-level="3.7.1" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#object-not-found"><i class="fa fa-check"></i><b>3.7.1</b> object not found</a></li>
<li class="chapter" data-level="3.7.2" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#any-message-mentioning-yaml"><i class="fa fa-check"></i><b>3.7.2</b> Any message mentioning yaml</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#ch03-exercises"><i class="fa fa-check"></i><b>3.8</b> Exercises</a></li>
<li class="chapter" data-level="3.9" data-path="some-useful-bits-of-r.html"><a href="some-useful-bits-of-r.html#footnotes-1"><i class="fa fa-check"></i><b>3.9</b> Footnotes</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="probability.html"><a href="probability.html"><i class="fa fa-check"></i><b>4</b> Probability</a><ul>
<li class="chapter" data-level="4.1" data-path="probability.html"><a href="probability.html#some-terminology"><i class="fa fa-check"></i><b>4.1</b> Some terminology</a></li>
<li class="chapter" data-level="4.2" data-path="probability.html"><a href="probability.html#distributions-in-r"><i class="fa fa-check"></i><b>4.2</b> Distributions in R</a><ul>
<li class="chapter" data-level="4.2.1" data-path="probability.html"><a href="probability.html#example-normal-distributions"><i class="fa fa-check"></i><b>4.2.1</b> Example: Normal distributions</a></li>
<li class="chapter" data-level="4.2.2" data-path="probability.html"><a href="probability.html#simulating-running-proportions"><i class="fa fa-check"></i><b>4.2.2</b> Simulating running proportions</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="probability.html"><a href="probability.html#joint-marginal-and-conditional-distributions"><i class="fa fa-check"></i><b>4.3</b> Joint, marginal, and conditional distributions</a><ul>
<li class="chapter" data-level="4.3.1" data-path="probability.html"><a href="probability.html#example-hair-and-eye-color"><i class="fa fa-check"></i><b>4.3.1</b> Example: Hair and eye color</a></li>
<li class="chapter" data-level="4.3.2" data-path="probability.html"><a href="probability.html#independence"><i class="fa fa-check"></i><b>4.3.2</b> Independence</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="probability.html"><a href="probability.html#ch04-exercises"><i class="fa fa-check"></i><b>4.4</b> Exercises</a></li>
<li class="chapter" data-level="4.5" data-path="probability.html"><a href="probability.html#footnotes-2"><i class="fa fa-check"></i><b>4.5</b> Footnotes</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html"><i class="fa fa-check"></i><b>5</b> Bayes’ Rule and the Grid Method</a><ul>
<li class="chapter" data-level="5.1" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#the-big-bayesian-idea"><i class="fa fa-check"></i><b>5.1</b> The Big Bayesian Idea</a><ul>
<li class="chapter" data-level="5.1.1" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#likelihood"><i class="fa fa-check"></i><b>5.1.1</b> Likelihood</a></li>
<li class="chapter" data-level="5.1.2" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#when-bayes-is-easy"><i class="fa fa-check"></i><b>5.1.2</b> When Bayes is easy</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#estimating-the-bias-in-a-coin-using-the-grid-method"><i class="fa fa-check"></i><b>5.2</b> Estimating the bias in a coin using the Grid Method</a><ul>
<li class="chapter" data-level="5.2.1" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#creating-a-grid"><i class="fa fa-check"></i><b>5.2.1</b> Creating a Grid</a></li>
<li class="chapter" data-level="5.2.2" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#hdi-from-the-grid"><i class="fa fa-check"></i><b>5.2.2</b> HDI from the grid</a></li>
<li class="chapter" data-level="5.2.3" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#automating-the-grid"><i class="fa fa-check"></i><b>5.2.3</b> Automating the grid</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#working-on-the-log-scale"><i class="fa fa-check"></i><b>5.3</b> Working on the log scale</a></li>
<li class="chapter" data-level="5.4" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#discrete-params"><i class="fa fa-check"></i><b>5.4</b> Discrete Parameters</a></li>
<li class="chapter" data-level="5.5" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#ch05-exercises"><i class="fa fa-check"></i><b>5.5</b> Exercises</a></li>
<li class="chapter" data-level="5.6" data-path="bayes-rule-and-the-grid-method.html"><a href="bayes-rule-and-the-grid-method.html#footnotes-3"><i class="fa fa-check"></i><b>5.6</b> Footnotes</a></li>
</ul></li>
<li class="part"><span><b>II Inferring a Binomial Probability</b></span></li>
<li class="chapter" data-level="6" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><i class="fa fa-check"></i><b>6</b> Inferring a Binomial Probability via Exact Mathematical Analysis</a><ul>
<li class="chapter" data-level="6.1" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#beta-distributions-1"><i class="fa fa-check"></i><b>6.1</b> Beta distributions</a></li>
<li class="chapter" data-level="6.2" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#beta-and-bayes"><i class="fa fa-check"></i><b>6.2</b> Beta and Bayes</a><ul>
<li class="chapter" data-level="6.2.1" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#the-bernoulli-likelihood-function"><i class="fa fa-check"></i><b>6.2.1</b> The Bernoulli likelihood function</a></li>
<li class="chapter" data-level="6.2.2" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#a-convenient-prior"><i class="fa fa-check"></i><b>6.2.2</b> A convenient prior</a></li>
<li class="chapter" data-level="6.2.3" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#pros-and-cons-of-conjugate-priors"><i class="fa fa-check"></i><b>6.2.3</b> Pros and Cons of conjugate priors</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#getting-to-know-the-beta-distributions"><i class="fa fa-check"></i><b>6.3</b> Getting to know the Beta distributions</a><ul>
<li class="chapter" data-level="6.3.1" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#important-facts"><i class="fa fa-check"></i><b>6.3.1</b> Important facts</a></li>
<li class="chapter" data-level="6.3.2" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#alternative-parameterizations-of-beta-distributions"><i class="fa fa-check"></i><b>6.3.2</b> Alternative parameterizations of Beta distributions</a></li>
<li class="chapter" data-level="6.3.3" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#beta_params"><i class="fa fa-check"></i><b>6.3.3</b> beta_params()</a></li>
<li class="chapter" data-level="6.3.4" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#automating-bayesian-updates-for-a-proportion-beta-prior"><i class="fa fa-check"></i><b>6.3.4</b> Automating Bayesian updates for a proportion (beta prior)</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#what-if-the-prior-isnt-a-beta-distribution"><i class="fa fa-check"></i><b>6.4</b> What if the prior isn’t a beta distribution?</a></li>
<li class="chapter" data-level="6.5" data-path="inferring-a-binomial-probability-via-exact-mathematical-analysis.html"><a href="inferring-a-binomial-probability-via-exact-mathematical-analysis.html#ch06-exercises"><i class="fa fa-check"></i><b>6.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html"><i class="fa fa-check"></i><b>7</b> Markov Chain Monte Carlo (MCMC)</a><ul>
<li class="chapter" data-level="7.1" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#king-markov-and-adviser-metropolis"><i class="fa fa-check"></i><b>7.1</b> King Markov and Adviser Metropolis</a></li>
<li class="chapter" data-level="7.2" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#quick-intro-to-markov-chains"><i class="fa fa-check"></i><b>7.2</b> Quick Intro to Markov Chains</a><ul>
<li class="chapter" data-level="7.2.1" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#more-info-please"><i class="fa fa-check"></i><b>7.2.1</b> More info, please</a></li>
<li class="chapter" data-level="7.2.2" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#definition"><i class="fa fa-check"></i><b>7.2.2</b> Definition</a></li>
<li class="chapter" data-level="7.2.3" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#time-homogeneous-markov-chains"><i class="fa fa-check"></i><b>7.2.3</b> Time-Homogeneous Markov Chains</a></li>
<li class="chapter" data-level="7.2.4" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#matrix-representation"><i class="fa fa-check"></i><b>7.2.4</b> Matrix representation</a></li>
<li class="chapter" data-level="7.2.5" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#regular-markov-chains"><i class="fa fa-check"></i><b>7.2.5</b> Regular Markov Chains</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#back-to-king-markov"><i class="fa fa-check"></i><b>7.3</b> Back to King Markov</a></li>
<li class="chapter" data-level="7.4" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#how-well-does-the-metropolis-algorithm-work"><i class="fa fa-check"></i><b>7.4</b> How well does the Metropolis Algorithm work?</a><ul>
<li class="chapter" data-level="7.4.1" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#jumping-to-any-island"><i class="fa fa-check"></i><b>7.4.1</b> Jumping to any island</a></li>
<li class="chapter" data-level="7.4.2" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#jumping-only-to-neighbor-islands"><i class="fa fa-check"></i><b>7.4.2</b> Jumping only to neighbor islands</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#markov-chains-and-posterior-sampling"><i class="fa fa-check"></i><b>7.5</b> Markov Chains and Posterior Sampling</a><ul>
<li class="chapter" data-level="7.5.1" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#example-1-estimating-a-proportion"><i class="fa fa-check"></i><b>7.5.1</b> Example 1: Estimating a proportion</a></li>
<li class="chapter" data-level="7.5.2" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#example-2-estimating-mean-and-variance"><i class="fa fa-check"></i><b>7.5.2</b> Example 2: Estimating mean and variance</a></li>
<li class="chapter" data-level="7.5.3" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#issues-with-metropolis-algorithm"><i class="fa fa-check"></i><b>7.5.3</b> Issues with Metropolis Algorithm</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#two-coins"><i class="fa fa-check"></i><b>7.6</b> Two coins</a><ul>
<li class="chapter" data-level="7.6.1" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#the-model"><i class="fa fa-check"></i><b>7.6.1</b> The model</a></li>
<li class="chapter" data-level="7.6.2" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#exact-analysis"><i class="fa fa-check"></i><b>7.6.2</b> Exact analysis</a></li>
<li class="chapter" data-level="7.6.3" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#metropolis"><i class="fa fa-check"></i><b>7.6.3</b> Metropolis</a></li>
<li class="chapter" data-level="7.6.4" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#gibbs-sampling"><i class="fa fa-check"></i><b>7.6.4</b> Gibbs sampling</a></li>
<li class="chapter" data-level="7.6.5" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#advantages-and-disadvantages-of-gibbs-vs-metropolis"><i class="fa fa-check"></i><b>7.6.5</b> Advantages and Disadvantages of Gibbs vs Metropolis</a></li>
<li class="chapter" data-level="7.6.6" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#so-what-do-we-learn-about-the-coins"><i class="fa fa-check"></i><b>7.6.6</b> So what do we learn about the coins?</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#mcmc-posterior-sampling-big-picture"><i class="fa fa-check"></i><b>7.7</b> MCMC posterior sampling: Big picture</a><ul>
<li class="chapter" data-level="7.7.1" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#mcmc-markov-chain-monte-carlo"><i class="fa fa-check"></i><b>7.7.1</b> MCMC = Markov chain Monte Carlo</a></li>
<li class="chapter" data-level="7.7.2" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#posterior-sampling-random-walk-through-the-posterior"><i class="fa fa-check"></i><b>7.7.2</b> Posterior sampling: Random walk through the posterior</a></li>
<li class="chapter" data-level="7.7.3" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#where-do-we-go-from-here-1"><i class="fa fa-check"></i><b>7.7.3</b> Where do we go from here?</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="markov-chain-monte-carlo-mcmc.html"><a href="markov-chain-monte-carlo-mcmc.html#ch07-exercises"><i class="fa fa-check"></i><b>7.8</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html"><i class="fa fa-check"></i><b>8</b> JAGS – Just Another Gibbs Sampler</a><ul>
<li class="chapter" data-level="8.1" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#what-jags-is"><i class="fa fa-check"></i><b>8.1</b> What JAGS is</a><ul>
<li class="chapter" data-level="8.1.1" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#jags-documentation"><i class="fa fa-check"></i><b>8.1.1</b> JAGS documentation</a></li>
<li class="chapter" data-level="8.1.2" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#updating-c-and-clang"><i class="fa fa-check"></i><b>8.1.2</b> Updating C and CLANG</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#example-1-estimating-a-proportion-1"><i class="fa fa-check"></i><b>8.2</b> Example 1: estimating a proportion</a><ul>
<li class="chapter" data-level="8.2.1" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#the-model-1"><i class="fa fa-check"></i><b>8.2.1</b> The Model</a></li>
<li class="chapter" data-level="8.2.2" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#load-data"><i class="fa fa-check"></i><b>8.2.2</b> Load Data</a></li>
<li class="chapter" data-level="8.2.3" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#specify-the-model"><i class="fa fa-check"></i><b>8.2.3</b> Specify the model</a></li>
<li class="chapter" data-level="8.2.4" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#run-the-model"><i class="fa fa-check"></i><b>8.2.4</b> Run the model</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#extracting-information-from-a-jags-run"><i class="fa fa-check"></i><b>8.3</b> Extracting information from a JAGS run</a><ul>
<li class="chapter" data-level="8.3.1" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#posterior-1"><i class="fa fa-check"></i><b>8.3.1</b> posterior()</a></li>
<li class="chapter" data-level="8.3.2" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#side-note-posterior-sampling-and-the-grid-method"><i class="fa fa-check"></i><b>8.3.2</b> Side note: posterior sampling and the grid method</a></li>
<li class="chapter" data-level="8.3.3" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#using-coda"><i class="fa fa-check"></i><b>8.3.3</b> Using coda</a></li>
<li class="chapter" data-level="8.3.4" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#using-bayesplot"><i class="fa fa-check"></i><b>8.3.4</b> Using bayesplot</a></li>
<li class="chapter" data-level="8.3.5" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#using-kruschkes-functions"><i class="fa fa-check"></i><b>8.3.5</b> Using Kruschke’s functions</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#optional-arguments-to-jags"><i class="fa fa-check"></i><b>8.4</b> Optional arguments to jags()</a><ul>
<li class="chapter" data-level="8.4.1" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#number-and-size-of-chains"><i class="fa fa-check"></i><b>8.4.1</b> Number and size of chains</a></li>
<li class="chapter" data-level="8.4.2" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#starting-point-for-chains"><i class="fa fa-check"></i><b>8.4.2</b> Starting point for chains</a></li>
<li class="chapter" data-level="8.4.3" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#running-chains-in-parallel"><i class="fa fa-check"></i><b>8.4.3</b> Running chains in parallel</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#example-2-comparing-two-proportions"><i class="fa fa-check"></i><b>8.5</b> Example 2: comparing two proportions</a><ul>
<li class="chapter" data-level="8.5.1" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#the-data"><i class="fa fa-check"></i><b>8.5.1</b> The data</a></li>
<li class="chapter" data-level="8.5.2" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#the-model-2"><i class="fa fa-check"></i><b>8.5.2</b> The model</a></li>
<li class="chapter" data-level="8.5.3" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#describing-the-model-to-jags"><i class="fa fa-check"></i><b>8.5.3</b> Describing the model to JAGS</a></li>
<li class="chapter" data-level="8.5.4" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#fitting-the-model"><i class="fa fa-check"></i><b>8.5.4</b> Fitting the model</a></li>
<li class="chapter" data-level="8.5.5" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#inspecting-the-results"><i class="fa fa-check"></i><b>8.5.5</b> Inspecting the results</a></li>
<li class="chapter" data-level="8.5.6" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#difference-in-proportions"><i class="fa fa-check"></i><b>8.5.6</b> Difference in proportions</a></li>
<li class="chapter" data-level="8.5.7" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#sampling-from-the-prior"><i class="fa fa-check"></i><b>8.5.7</b> Sampling from the prior</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="jags-just-another-gibbs-sampler.html"><a href="jags-just-another-gibbs-sampler.html#ch08-exercises"><i class="fa fa-check"></i><b>8.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="heierarchical-models.html"><a href="heierarchical-models.html"><i class="fa fa-check"></i><b>9</b> Heierarchical Models</a><ul>
<li class="chapter" data-level="9.1" data-path="heierarchical-models.html"><a href="heierarchical-models.html#gamma-distributions"><i class="fa fa-check"></i><b>9.1</b> Gamma Distributions</a></li>
<li class="chapter" data-level="9.2" data-path="heierarchical-models.html"><a href="heierarchical-models.html#one-coin-from-one-mint"><i class="fa fa-check"></i><b>9.2</b> One coin from one mint</a></li>
<li class="chapter" data-level="9.3" data-path="heierarchical-models.html"><a href="heierarchical-models.html#multiple-coins-from-one-mint"><i class="fa fa-check"></i><b>9.3</b> Multiple coins from one mint</a></li>
<li class="chapter" data-level="9.4" data-path="heierarchical-models.html"><a href="heierarchical-models.html#multiple-coins-from-multiple-mints"><i class="fa fa-check"></i><b>9.4</b> Multiple coins from multiple mints</a></li>
<li class="chapter" data-level="9.5" data-path="heierarchical-models.html"><a href="heierarchical-models.html#therapeutic-touch"><i class="fa fa-check"></i><b>9.5</b> Therapeutic Touch</a><ul>
<li class="chapter" data-level="9.5.1" data-path="heierarchical-models.html"><a href="heierarchical-models.html#abstract"><i class="fa fa-check"></i><b>9.5.1</b> Abstract</a></li>
<li class="chapter" data-level="9.5.2" data-path="heierarchical-models.html"><a href="heierarchical-models.html#data-1"><i class="fa fa-check"></i><b>9.5.2</b> Data</a></li>
<li class="chapter" data-level="9.5.3" data-path="heierarchical-models.html"><a href="heierarchical-models.html#a-heierarchical-model"><i class="fa fa-check"></i><b>9.5.3</b> A heierarchical model</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="heierarchical-models.html"><a href="heierarchical-models.html#other-parameterizations-we-might-have-tried"><i class="fa fa-check"></i><b>9.6</b> Other parameterizations we might have tried</a><ul>
<li class="chapter" data-level="9.6.1" data-path="heierarchical-models.html"><a href="heierarchical-models.html#shape-parameters-for-beta"><i class="fa fa-check"></i><b>9.6.1</b> Shape parameters for Beta</a></li>
<li class="chapter" data-level="9.6.2" data-path="heierarchical-models.html"><a href="heierarchical-models.html#mean-instead-of-mode"><i class="fa fa-check"></i><b>9.6.2</b> Mean instead of mode</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="heierarchical-models.html"><a href="heierarchical-models.html#shrinkage"><i class="fa fa-check"></i><b>9.7</b> Shrinkage</a></li>
<li class="chapter" data-level="9.8" data-path="heierarchical-models.html"><a href="heierarchical-models.html#example-baseball-batting-average"><i class="fa fa-check"></i><b>9.8</b> Example: Baseball Batting Average</a></li>
<li class="chapter" data-level="9.9" data-path="heierarchical-models.html"><a href="heierarchical-models.html#ch09-exercises"><i class="fa fa-check"></i><b>9.9</b> Exerciess</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="model-comparison.html"><a href="model-comparison.html"><i class="fa fa-check"></i><b>10</b> (Model Comparison)</a></li>
<li class="chapter" data-level="11" data-path="nhst.html"><a href="nhst.html"><i class="fa fa-check"></i><b>11</b> (NHST)</a></li>
<li class="chapter" data-level="12" data-path="point-null-hypotheses.html"><a href="point-null-hypotheses.html"><i class="fa fa-check"></i><b>12</b> (Point Null Hypotheses)</a></li>
<li class="chapter" data-level="13" data-path="goals-power-sample-size.html"><a href="goals-power-sample-size.html"><i class="fa fa-check"></i><b>13</b> (Goals, Power, Sample Size)</a></li>
<li class="chapter" data-level="14" data-path="stan.html"><a href="stan.html"><i class="fa fa-check"></i><b>14</b> Stan</a><ul>
<li class="chapter" data-level="14.1" data-path="stan.html"><a href="stan.html#why-stan-might-work-better"><i class="fa fa-check"></i><b>14.1</b> Why Stan might work better</a></li>
<li class="chapter" data-level="14.2" data-path="stan.html"><a href="stan.html#describing-a-model-to-stan"><i class="fa fa-check"></i><b>14.2</b> Describing a model to Stan</a></li>
<li class="chapter" data-level="14.3" data-path="stan.html"><a href="stan.html#samping-from-the-prior"><i class="fa fa-check"></i><b>14.3</b> Samping from the prior</a></li>
<li class="chapter" data-level="14.4" data-path="stan.html"><a href="stan.html#ch14-exercises"><i class="fa fa-check"></i><b>14.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="glm-overview.html"><a href="glm-overview.html"><i class="fa fa-check"></i><b>15</b> GLM Overview</a><ul>
<li class="chapter" data-level="15.1" data-path="glm-overview.html"><a href="glm-overview.html#data-consists-of-observations-of-variables"><i class="fa fa-check"></i><b>15.1</b> Data consists of observations of variables</a><ul>
<li class="chapter" data-level="15.1.1" data-path="glm-overview.html"><a href="glm-overview.html#variable-roles"><i class="fa fa-check"></i><b>15.1.1</b> Variable Roles</a></li>
<li class="chapter" data-level="15.1.2" data-path="glm-overview.html"><a href="glm-overview.html#types-of-variables"><i class="fa fa-check"></i><b>15.1.2</b> Types of Variables</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="glm-overview.html"><a href="glm-overview.html#glm-framework"><i class="fa fa-check"></i><b>15.2</b> GLM Framework</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html"><i class="fa fa-check"></i><b>16</b> Estimating One and Two Means</a><ul>
<li class="chapter" data-level="16.1" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#basic-model-for-two-means"><i class="fa fa-check"></i><b>16.1</b> Basic Model for Two Means</a><ul>
<li class="chapter" data-level="16.1.1" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#data-2"><i class="fa fa-check"></i><b>16.1.1</b> Data</a></li>
<li class="chapter" data-level="16.1.2" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#model"><i class="fa fa-check"></i><b>16.1.2</b> Model</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#an-old-sleep-study"><i class="fa fa-check"></i><b>16.2</b> An Old Sleep Study</a><ul>
<li class="chapter" data-level="16.2.1" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#data-3"><i class="fa fa-check"></i><b>16.2.1</b> Data</a></li>
<li class="chapter" data-level="16.2.2" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#model-1"><i class="fa fa-check"></i><b>16.2.2</b> Model</a></li>
<li class="chapter" data-level="16.2.3" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#separate-standard-deviations-for-each-group"><i class="fa fa-check"></i><b>16.2.3</b> Separate standard deviations for each group</a></li>
<li class="chapter" data-level="16.2.4" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#comparison-to-t-test"><i class="fa fa-check"></i><b>16.2.4</b> Comparison to t-test</a></li>
<li class="chapter" data-level="16.2.5" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#rope-region-of-practical-equivalence"><i class="fa fa-check"></i><b>16.2.5</b> ROPE (Region of Practical Equivalence)</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#variations-on-the-theme"><i class="fa fa-check"></i><b>16.3</b> Variations on the theme</a><ul>
<li class="chapter" data-level="16.3.1" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#other-distributions-for-the-response"><i class="fa fa-check"></i><b>16.3.1</b> Other distributions for the response</a></li>
<li class="chapter" data-level="16.3.2" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#other-priors-for-sigma-or-tau"><i class="fa fa-check"></i><b>16.3.2</b> Other Priors for <span class="math inline">\(\sigma\)</span> (or <span class="math inline">\(\tau\)</span>)</a></li>
<li class="chapter" data-level="16.3.3" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#paired-comparisons"><i class="fa fa-check"></i><b>16.3.3</b> Paired Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#how-many-chains-how-long"><i class="fa fa-check"></i><b>16.4</b> How many chains? How long?</a><ul>
<li class="chapter" data-level="16.4.1" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#why-multiple-chains"><i class="fa fa-check"></i><b>16.4.1</b> Why multiple chains?</a></li>
<li class="chapter" data-level="16.4.2" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#what-large-n.eff-does-and-doesnt-do-for-us"><i class="fa fa-check"></i><b>16.4.2</b> What large n.eff does and doesn’t do for us</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#looking-at-likelihood"><i class="fa fa-check"></i><b>16.5</b> Looking at Likelihood</a></li>
<li class="chapter" data-level="16.6" data-path="estimating-one-and-two-means.html"><a href="estimating-one-and-two-means.html#ch16-exercises"><i class="fa fa-check"></i><b>16.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html"><i class="fa fa-check"></i><b>17</b> Simple Linear Regression</a><ul>
<li class="chapter" data-level="17.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#the-deluxe-basic-model"><i class="fa fa-check"></i><b>17.1</b> The deluxe basic model</a><ul>
<li class="chapter" data-level="17.1.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#likelihood-1"><i class="fa fa-check"></i><b>17.1.1</b> Likelihood</a></li>
<li class="chapter" data-level="17.1.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#priors"><i class="fa fa-check"></i><b>17.1.2</b> Priors</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#example-galtons-data"><i class="fa fa-check"></i><b>17.2</b> Example: Galton’s Data</a><ul>
<li class="chapter" data-level="17.2.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#describing-the-model-to-jags-1"><i class="fa fa-check"></i><b>17.2.1</b> Describing the model to JAGS</a></li>
<li class="chapter" data-level="17.2.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#problems-and-how-to-fix-them"><i class="fa fa-check"></i><b>17.2.2</b> Problems and how to fix them</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#centering-and-standardizing"><i class="fa fa-check"></i><b>17.3</b> Centering and Standardizing</a><ul>
<li class="chapter" data-level="17.3.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#beta_0-and-beta_1-are-still-correlated"><i class="fa fa-check"></i><b>17.3.1</b> <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> are still correlated</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#weve-fit-a-model-now-what"><i class="fa fa-check"></i><b>17.4</b> We’ve fit a model, now what?</a><ul>
<li class="chapter" data-level="17.4.1" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#estimate-parameters"><i class="fa fa-check"></i><b>17.4.1</b> Estimate parameters</a></li>
<li class="chapter" data-level="17.4.2" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#make-predictions"><i class="fa fa-check"></i><b>17.4.2</b> Make predictions</a></li>
<li class="chapter" data-level="17.4.3" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#posterior-predictive-checks"><i class="fa fa-check"></i><b>17.4.3</b> Posterior Predictive Checks</a></li>
<li class="chapter" data-level="17.4.4" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#posterior-predictive-checks-with-bayesplot"><i class="fa fa-check"></i><b>17.4.4</b> Posterior predictive checks with bayesplot</a></li>
<li class="chapter" data-level="17.4.5" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#ppc-with-custom-data"><i class="fa fa-check"></i><b>17.4.5</b> PPC with custom data</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#fitting-models-with-stan"><i class="fa fa-check"></i><b>17.5</b> Fitting models with Stan</a></li>
<li class="chapter" data-level="17.6" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#two-intercepts-model"><i class="fa fa-check"></i><b>17.6</b> Two Intercepts model</a></li>
<li class="chapter" data-level="17.7" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html#ch17-exercises"><i class="fa fa-check"></i><b>17.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html"><i class="fa fa-check"></i><b>18</b> Multiple Metric Predictors</a><ul>
<li class="chapter" data-level="18.1" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#sat"><i class="fa fa-check"></i><b>18.1</b> SAT</a><ul>
<li class="chapter" data-level="18.1.1" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#sat-vs-expenditure"><i class="fa fa-check"></i><b>18.1.1</b> SAT vs expenditure</a></li>
<li class="chapter" data-level="18.1.2" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#sat-vs-expenditure-and-percent-taking-the-test"><i class="fa fa-check"></i><b>18.1.2</b> SAT vs expenditure and percent taking the test</a></li>
<li class="chapter" data-level="18.1.3" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#whats-wrong-with-this-picture"><i class="fa fa-check"></i><b>18.1.3</b> What’s wrong with this picture?</a></li>
<li class="chapter" data-level="18.1.4" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#multiple-predictors-in-pictures"><i class="fa fa-check"></i><b>18.1.4</b> Multiple predictors in pictures</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#interaction"><i class="fa fa-check"></i><b>18.2</b> Interaction</a><ul>
<li class="chapter" data-level="18.2.1" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#sat-with-interaction-term"><i class="fa fa-check"></i><b>18.2.1</b> SAT with interaction term</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#fitting-a-linear-model-with-brms"><i class="fa fa-check"></i><b>18.3</b> Fitting a linear model with brms</a><ul>
<li class="chapter" data-level="18.3.1" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#adjusting-the-model-with-brm"><i class="fa fa-check"></i><b>18.3.1</b> Adjusting the model with brm()</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#interpretting-a-model-with-an-interaction-term"><i class="fa fa-check"></i><b>18.4</b> Interpretting a model with an interaction term</a><ul>
<li class="chapter" data-level="18.4.1" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#thinking-about-the-noise"><i class="fa fa-check"></i><b>18.4.1</b> Thinking about the noise</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="multiple-metric-predictors.html"><a href="multiple-metric-predictors.html#ch18-exercises"><i class="fa fa-check"></i><b>18.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="nominal-predictors.html"><a href="nominal-predictors.html"><i class="fa fa-check"></i><b>19</b> Nominal Predictors</a><ul>
<li class="chapter" data-level="19.1" data-path="nominal-predictors.html"><a href="nominal-predictors.html#example-fruitflies"><i class="fa fa-check"></i><b>19.1</b> Example: Fruitflies</a><ul>
<li class="chapter" data-level="19.1.1" data-path="nominal-predictors.html"><a href="nominal-predictors.html#comparing-two-groups"><i class="fa fa-check"></i><b>19.1.1</b> Comparing two groups</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">(Re)Doing Bayesain Data Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="some-useful-bits-of-r" class="section level1">
<h1><span class="header-section-number">3</span> Some Useful Bits of R</h1>
<div id="style-guide" class="section level2">
<h2><span class="header-section-number">3.1</span> You Gotta Have Style</h2>
<p>Good programming style is incredibly important. It makes your code easier to read
and edit. That leads to fewer errors.</p>
<p>Here is a brief style guide you are expected to follow for all code in this course:
For more detailed see <a href="http://adv-r.had.co.nz/Style.html" class="uri">http://adv-r.had.co.nz/Style.html</a>, on which this is based.</p>
<ol style="list-style-type: decimal">
<li><p><strong>No long lines.</strong></p>
<p>Lines of code should have at most 80 characters.</p>
<p>Programming lines should not wrap, you should choose the line breaks yourself.
Choose them in natural places.
In R markdown, long codes lines don’t wrap, they flow off the page,
so the end isn’t visible. (And it makes it obvious that you didn’t
look at your own print out.)</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Don&#39;t ever use really long lines.  Not even in comments.  They spill off the page and make people wonder what they are missing. </span></code></pre></li>
<li><p><strong>Use your space bar.</strong></p>
<p>There is a reason it is the largest key on the keyboard. Use it often.
Spaces <strong>after commas</strong> (always). Spaces <strong>around operators</strong> (always).
Spaces after the comment symbol <code>#</code> (always). Use other spaces
judiciously to align similar code chunks to make things easier to
read or compare.</p>
<pre class="sourceCode r"><code class="sourceCode r">x&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>)<span class="op">+</span><span class="dv">5</span>          <span class="co"># BAD BAD BAD</span>
x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>) <span class="op">+</span><span class="st"> </span><span class="dv">5</span>    <span class="co"># Ah :^)</span></code></pre></li>
<li><p>But don’t go crazy with the space bar.</p>
<p>There are a few places you should not use spaces:</p>
<ul>
<li>after open parentheses or before closed parentheses</li>
<li>between function names and the parentheses that follow</li>
</ul></li>
<li><p><strong>Indent</strong> to show the structure of your code.</p>
<p>Use 2 spaces to indent (to keep things from drifting right too quickly).</p>
<p>Fortunately, this is really easy. Highlight your code and hit
<code>&lt;CTRL&gt;</code>-i (PC) or <code>&lt;command&gt;</code>-i (Mac). If the indention looks odd to you,
you have most likely messed up commas, quotes, parentheses, or
curly braces.</p></li>
<li><p><strong>Choose names wisely and consistently</strong>.</p>
<p>Naming things is hard, but take a moment to choose good names, and go back
and change them if you come up with a better name later. Here are some
helpful hints:</p>
<ol style="list-style-type: lower-alpha">
<li><p>Very <strong>short names</strong> should only be used for a very <strong>short time</strong>
(a couple lines of code). Else we tend to forget what they meant.
Avoid names like <code>x</code>, <code>f</code>, etc. unless the use is brief and mimics
some common mathematical formula.</p></li>
<li><p><strong>Break long names visually</strong>. Common ways to do this are with
a dot (<code>.</code>), an underscore <code>_</code>, or <code>camelCase</code>. There are R coders who
prefer all three, but don’t mix and match for similar kinds of things,
that just makes it harder to remember what to do the next time.</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">good_name &lt;-<span class="st"> </span><span class="dv">10</span>
good.name &lt;-<span class="st"> </span><span class="dv">10</span>
goodName  &lt;-<span class="st"> </span><span class="dv">10</span>    <span class="co"># note alignment via extra space in this line</span>
really_terrible.ideaToDo &lt;-<span class="st"> </span><span class="dv">-5</span></code></pre>
<p><strong>The trend in R is toward using underscore (<code>_</code>)</strong> and I recommend it.
Older code often used dot (<code>.</code>). CamelCase is the least common in R.</p>
<ol start="3" style="list-style-type: lower-alpha">
<li><p>Recommendation: capitalize data frame names; use lower case for
variables inside data frames.</p>
<p>This is not a common convention in R, but it can really help to
keep things straight. I’ll do this in the data sets I create, but
when we use other data sets, they may not follow this convention.</p></li>
<li><p>Avoid using names that are already in use by R.</p>
<p>This can be hard to avoid when you are starting out because you don’t
know what all is defined. Here are a few things to avoid.</p>
<pre class="sourceCode r"><code class="sourceCode r">T           <span class="co"># abbreviation for TRUE</span>
F           <span class="co"># abbreviation for FALSE</span>
c           <span class="co"># used to concetenate vectors and lists</span>
df          <span class="co"># density function for f distributions</span>
dt          <span class="co"># density function for t distributions</span></code></pre></li>
</ol></li>
<li><p><strong>Use comments (<code>#</code>)</strong>, but use them for the right thing.</p>
<p>Comments can be used to clarify names, point out subtlties in code, etc.
They should not be used for your analysis or discussion of results.
Don’t comment things that are obvious without comment. Comments should add
value.</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">4</span>   <span class="co"># set x to 4  &lt;----------------------- no need for this comment</span>
x &lt;-<span class="st"> </span><span class="dv">4</span>   <span class="co"># b/c there are four grade levels in the study  &lt;------- useful</span></code></pre></li>
<li><p><strong>Exceptions</strong> should be exceptional.</p>
<p>No style guide works perfectly in all situations. Ocassionally you may
need to violate the style guide. But these instances should be rare and
should have a good reason. They should not arise form your sloppiness
or laziness.</p></li>
</ol>
<div id="an-additional-note-about-homework" class="section level3">
<h3><span class="header-section-number">3.1.1</span> An additional note about homework</h3>
<p>When you do homework, I want to see your code and the results (and your
discussion of those results). Writing in R Markdown makes this all easy
to do.</p>
<p>But make sure that I can see all the necessary things to evaluate what you
are doing. You have access to your code and can investigate variables, etc.
But make sure I can see what’s going one in the document. This often
means displaying intermediate results. Once common way to do this is
with a semi-colon:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="dv">57</span> <span class="op">*</span><span class="st"> </span><span class="dv">23</span>; x</code></pre>
<pre><code>## [1] 1311</code></pre>
</div>
</div>
<div id="vectors-lists-and-data-frames" class="section level2">
<h2><span class="header-section-number">3.2</span> Vectors, Lists, and Data Frames</h2>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Vectors</h3>
<p>In R, a vector is a homogeneous ordered collection (indexing starts at 1).
By homogeneous, we mean that each element is he same kind of thing.</p>
<p>Short vectors can be created using <code>c()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>)
x</code></pre>
<pre><code>## [1] 1 3 5</code></pre>
<p>Evenly spaced sequences can be created using <code>seq()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dt">by =</span> <span class="dv">5</span>); x</code></pre>
<pre><code>##  [1]   0   5  10  15  20  25  30  35  40  45  50  55  60  65  70  75  80
## [18]  85  90  95 100</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">length.out =</span> <span class="dv">11</span>); y</code></pre>
<pre><code>##  [1] 0.0 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9 1.0</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">0</span><span class="op">:</span><span class="dv">10</span>      <span class="co"># short cut for consecutive integers</span></code></pre>
<pre><code>##  [1]  0  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>Repeated values can be created with <code>rep()</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">5</span>, <span class="dv">3</span>)</code></pre>
<pre><code>## [1] 5 5 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">each  =</span> <span class="dv">2</span>)</code></pre>
<pre><code>## [1] 1 1 2 2 3 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">times =</span> <span class="dv">2</span>)</code></pre>
<pre><code>## [1] 1 2 3 1 2 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">times =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</code></pre>
<pre><code>## [1] 1 2 2 3 3 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">each  =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))    <span class="co"># Ack! see warning message.</span></code></pre>
<pre><code>## Warning in rep(c(1, 2, 3), each = c(1, 2, 3)): first element used of &#39;each&#39;
## argument</code></pre>
<pre><code>## [1] 1 2 3</code></pre>
<p>When a function acts on a vector, there are several things that could happen.</p>
<ul>
<li><p>One result can be computed from the entire vector.</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">10</span>)
<span class="kw">length</span>(x)</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(x)</code></pre>
<pre><code>## [1] 5</code></pre></li>
<li><p>The function may be applied to each element of the vector and a vector of
results returned. (Such functions are called <strong>vectorized</strong>.)</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(x)</code></pre>
<pre><code>## [1] 0.000 1.099 1.792 2.303</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>x</code></pre>
<pre><code>## [1]  2  6 12 20</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x<span class="op">^</span><span class="dv">2</span></code></pre>
<pre><code>## [1]   1   9  36 100</code></pre></li>
<li><p>The first element of the vector may be used and the others ignored.
(Less common but dangerous – be on the lookout. See example above.)</p></li>
</ul>
<p>Items in a vector can be accessed using <code>[]</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dt">by =</span> <span class="dv">2</span>)
x[<span class="dv">2</span>]</code></pre>
<pre><code>## [1] 12</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">10</span>]       <span class="co"># NA indicates a missing value</span></code></pre>
<pre><code>## [1] NA</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">10</span>] &lt;-<span class="st"> </span><span class="dv">4</span>          
x           <span class="co"># missing values filled in to make room!</span></code></pre>
<pre><code>##  [1] 10 12 14 16 18 20 NA NA NA  4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">is.na</span>(x)    </code></pre>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE FALSE</code></pre>
<p>In addition to using integer indices, there are two other ways to access
elements of a vector: names and logicals.
If the items in a vector are named, names are displayed when
a vector is displayed, and names can be used to access elements.</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">a =</span> <span class="dv">5</span>, <span class="dt">b =</span> <span class="dv">3</span>, <span class="dt">c =</span> <span class="dv">12</span>, <span class="dv">17</span>, <span class="dv">1</span>)
x</code></pre>
<pre><code>##  a  b  c       
##  5  3 12 17  1</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(x)</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;&quot;  &quot;&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[<span class="st">&quot;b&quot;</span>]</code></pre>
<pre><code>## b 
## 3</code></pre>
<p>Logicals (<code>TRUE</code> and <code>FALSE</code>) are very interesting in R. In indexing, they
tell us which items to keep and which to discard.</p>
<pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)<span class="op">^</span><span class="dv">2</span>
x <span class="op">&lt;</span><span class="st"> </span><span class="dv">50</span></code></pre>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[x <span class="op">&lt;</span><span class="st"> </span><span class="dv">50</span>]</code></pre>
<pre><code>## [1]  1  4  9 16 25 36 49</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)]   <span class="co"># T/F recycled to length 10</span></code></pre>
<pre><code>## [1]  1  9 25 49 81</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which</span>(x <span class="op">&lt;</span><span class="st"> </span><span class="dv">50</span>)</code></pre>
<pre><code>## [1] 1 2 3 4 5 6 7</code></pre>
</div>
<div id="lists" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Lists</h3>
<p>Lists are a lot like vectors, but</p>
<ul>
<li>Create a list with <code>list()</code>.</li>
<li>The elements can be different kinds of things (including other lists)</li>
<li>Use <code>[[ ]]</code> to access elements. You can also use <code>$</code> to access named elements</li>
<li>If you use <code>[]</code> you will get a list back not an element.</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># a messy list</span>
L &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">5</span>, <span class="kw">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">x =</span> <span class="ot">TRUE</span>, <span class="dt">y =</span> <span class="kw">list</span>(<span class="dv">5</span>, <span class="dt">a =</span> <span class="dv">3</span>, <span class="dv">7</span>))  
L</code></pre>
<pre><code>## [[1]]
## [1] 5
## 
## [[2]]
## [[2]][[1]]
## [1] 1
## 
## [[2]][[2]]
## [1] 2
## 
## [[2]][[3]]
## [1] 3
## 
## 
## $x
## [1] TRUE
## 
## $y
## $y[[1]]
## [1] 5
## 
## $y$a
## [1] 3
## 
## $y[[3]]
## [1] 7</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">L[[<span class="dv">1</span>]]</code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">L[[<span class="dv">2</span>]]</code></pre>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] 3</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">L[<span class="dv">1</span>]</code></pre>
<pre><code>## [[1]]
## [1] 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">L<span class="op">$</span>y</code></pre>
<pre><code>## [[1]]
## [1] 5
## 
## $a
## [1] 3
## 
## [[3]]
## [1] 7</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">L[[<span class="st">&quot;x&quot;</span>]]</code></pre>
<pre><code>## [1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">L[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</code></pre>
<pre><code>## [[1]]
## [1] 5
## 
## [[2]]
## [[2]][[1]]
## [1] 1
## 
## [[2]][[2]]
## [1] 2
## 
## [[2]][[3]]
## [1] 3
## 
## 
## $x
## [1] TRUE</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(L)</code></pre>
<pre><code>## List of 4
##  $  : num 5
##  $  :List of 3
##   ..$ : num 1
##   ..$ : num 2
##   ..$ : num 3
##  $ x: logi TRUE
##  $ y:List of 3
##   ..$  : num 5
##   ..$ a: num 3
##   ..$  : num 7</code></pre>
</div>
<div id="data-frames-for-rectangular-data" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Data frames for rectangular data</h3>
<p>Rectangular data is organized in rows and columns (much like an excel
spreadsheet). These rows and columns have a particular meaning:</p>
<ul>
<li><p>Each <strong>row</strong> represents one <strong>observational unit</strong>. Observational units go
by many others names depending whether they are people, or inanimate objects,
our events, etc. Examples include case, subject, item, etc. Regardless, the
observational units are the things about which we collect information, and each
one gets its own row in rectangular data.</p></li>
<li><p>Each <strong>column</strong> represents a <strong>variable</strong> – one thing that is “measured” and
recorded (at least in principle, some measurements might be missing) for each
observational unit.</p></li>
</ul>
<p><strong>Example</strong> In a study of nutritional habits of college students, our observational
units are the college students in the study. Each student gets her own row in the data
frame. The variables might include things like an ID number (or name), sex, height,
weight, whether the student lives on campus or off, what type of meal plan they have
at the dining hall, etc., etc. Each of these is recorded in a separate column.</p>
<p>Data frames are the standard way to store <strong>rectangular data</strong> in R.
Usually variables (elements of the list) are vectors, but this isn’t required, sometimes you will see list variables in data frames.
Each element (ie, variable) must have the same length (to keep things rectangular).</p>
<p>Here, for example, are the first few rows of a data set called <code>KidsFeet</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mosaicData)   <span class="co"># Load package to make KidsFeet data available</span>
<span class="kw">head</span>(KidsFeet)        <span class="co"># first few rows</span></code></pre>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="right">birthmonth</th>
<th align="right">birthyear</th>
<th align="right">length</th>
<th align="right">width</th>
<th align="left">sex</th>
<th align="left">biggerfoot</th>
<th align="left">domhand</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">David</td>
<td align="right">5</td>
<td align="right">88</td>
<td align="right">24.4</td>
<td align="right">8.4</td>
<td align="left">B</td>
<td align="left">L</td>
<td align="left">R</td>
</tr>
<tr class="even">
<td align="left">Lars</td>
<td align="right">10</td>
<td align="right">87</td>
<td align="right">25.4</td>
<td align="right">8.8</td>
<td align="left">B</td>
<td align="left">L</td>
<td align="left">L</td>
</tr>
<tr class="odd">
<td align="left">Zach</td>
<td align="right">12</td>
<td align="right">87</td>
<td align="right">24.5</td>
<td align="right">9.7</td>
<td align="left">B</td>
<td align="left">R</td>
<td align="left">R</td>
</tr>
<tr class="even">
<td align="left">Josh</td>
<td align="right">1</td>
<td align="right">88</td>
<td align="right">25.2</td>
<td align="right">9.8</td>
<td align="left">B</td>
<td align="left">L</td>
<td align="left">R</td>
</tr>
<tr class="odd">
<td align="left">Lang</td>
<td align="right">2</td>
<td align="right">88</td>
<td align="right">25.1</td>
<td align="right">8.9</td>
<td align="left">B</td>
<td align="left">L</td>
<td align="left">R</td>
</tr>
<tr class="even">
<td align="left">Scotty</td>
<td align="right">3</td>
<td align="right">88</td>
<td align="right">25.7</td>
<td align="right">9.7</td>
<td align="left">B</td>
<td align="left">R</td>
<td align="left">R</td>
</tr>
</tbody>
</table>
<div id="accessing-via" class="section level4">
<h4><span class="header-section-number">3.2.3.1</span> Accessing via [ ]</h4>
<p>We can access rows, columns, or individual elements of a data frame using <code>[ ]</code>.
This is the more usual way to do things.</p>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[, <span class="st">&quot;length&quot;</span>]</code></pre>
<pre><code>##  [1] 24.4 25.4 24.5 25.2 25.1 25.7 26.1 23.0 23.6 22.9 27.5 24.8 26.1 27.0
## [15] 26.0 23.7 24.0 24.7 26.7 25.5 24.0 24.4 24.0 24.5 24.2 27.1 26.1 25.5
## [29] 24.2 23.9 24.0 22.5 24.5 23.6 24.7 22.9 26.0 21.6 24.6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[, <span class="dv">4</span>]</code></pre>
<pre><code>##  [1] 24.4 25.4 24.5 25.2 25.1 25.7 26.1 23.0 23.6 22.9 27.5 24.8 26.1 27.0
## [15] 26.0 23.7 24.0 24.7 26.7 25.5 24.0 24.4 24.0 24.5 24.2 27.1 26.1 25.5
## [29] 24.2 23.9 24.0 22.5 24.5 23.6 24.7 22.9 26.0 21.6 24.6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[<span class="dv">3</span>, ]</code></pre>
<table>
<thead>
<tr class="header">
<th></th>
<th align="left">name</th>
<th align="right">birthmonth</th>
<th align="right">birthyear</th>
<th align="right">length</th>
<th align="right">width</th>
<th align="left">sex</th>
<th align="left">biggerfoot</th>
<th align="left">domhand</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3</td>
<td align="left">Zach</td>
<td align="right">12</td>
<td align="right">87</td>
<td align="right">24.5</td>
<td align="right">9.7</td>
<td align="left">B</td>
<td align="left">R</td>
<td align="left">R</td>
</tr>
</tbody>
</table>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[<span class="dv">3</span>, <span class="dv">4</span>]</code></pre>
<pre><code>## [1] 24.5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[<span class="dv">3</span>, <span class="dv">4</span>, drop =<span class="st"> </span><span class="ot">FALSE</span>]  <span class="co"># keep it a data frame</span></code></pre>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">length</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3</td>
<td align="right">24.5</td>
</tr>
</tbody>
</table>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>]</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">birthmonth</th>
<th align="right">birthyear</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5</td>
<td align="right">88</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">87</td>
</tr>
<tr class="odd">
<td align="right">12</td>
<td align="right">87</td>
</tr>
</tbody>
</table>
<p>By default,</p>
<ul>
<li>Accessing a row returns a 1-row data frame.</li>
<li>Accessing a column returns a vector (at least for vector columns)</li>
<li>Accessing a element returns that element (technically a vector with
one element in it).</li>
</ul>
</div>
<div id="accessing-columns-via" class="section level4">
<h4><span class="header-section-number">3.2.3.2</span> Accessing columns via $</h4>
<p>We can also access individual variables using the <code>$</code> operator:</p>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet<span class="op">$</span>length</code></pre>
<pre><code>##  [1] 24.4 25.4 24.5 25.2 25.1 25.7 26.1 23.0 23.6 22.9 27.5 24.8 26.1 27.0
## [15] 26.0 23.7 24.0 24.7 26.7 25.5 24.0 24.4 24.0 24.5 24.2 27.1 26.1 25.5
## [29] 24.2 23.9 24.0 22.5 24.5 23.6 24.7 22.9 26.0 21.6 24.6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet<span class="op">$</span>length[<span class="dv">2</span>]</code></pre>
<pre><code>## [1] 25.4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[<span class="dv">2</span>, <span class="st">&quot;length&quot;</span>]</code></pre>
<pre><code>## [1] 25.4</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[<span class="dv">2</span>, <span class="st">&quot;length&quot;</span>, drop =<span class="st"> </span><span class="ot">FALSE</span>]    <span class="co"># keep it a data frame</span></code></pre>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">length</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2</td>
<td align="right">25.4</td>
</tr>
</tbody>
</table>
<p>As we will see, there are are other tools that will help us avoid
needing to us <code>$</code> or <code>[ ]</code> for access columns in a data frame. This is
especially nice when we are working with several variables all coming
from the same data frame.</p>
</div>
<div id="accessing-by-number-is-dangerous" class="section level4">
<h4><span class="header-section-number">3.2.3.3</span> Accessing by number is dangerous</h4>
<p>Generally speaking, it is safer to access things by name than by number when
that is an option.
It is easy to miscalculate the row or column number you need, and if rows
or columns are added to or deleted from a data frame, the numbering can change.</p>
</div>
<div id="implementation" class="section level4">
<h4><span class="header-section-number">3.2.3.4</span> Implementation</h4>
<p>Data frames are implemented in R as a special type (technically, class) of list.
The elements of the list are the <em>columns</em> in the data frame. Each column must
have the same length (so that our data frame has coherent <em>rows</em>). Most often the
columns are vectors, but this isn’t required.</p>
<p>This explains why <code>$</code> works the way it does – we are just accessing
one item in a list. It also means that we can use <code>[[ ]]</code> to access
a column:</p>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[[<span class="st">&quot;length&quot;</span>]]</code></pre>
<pre><code>##  [1] 24.4 25.4 24.5 25.2 25.1 25.7 26.1 23.0 23.6 22.9 27.5 24.8 26.1 27.0
## [15] 26.0 23.7 24.0 24.7 26.7 25.5 24.0 24.4 24.0 24.5 24.2 27.1 26.1 25.5
## [29] 24.2 23.9 24.0 22.5 24.5 23.6 24.7 22.9 26.0 21.6 24.6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[[<span class="dv">4</span>]]</code></pre>
<pre><code>##  [1] 24.4 25.4 24.5 25.2 25.1 25.7 26.1 23.0 23.6 22.9 27.5 24.8 26.1 27.0
## [15] 26.0 23.7 24.0 24.7 26.7 25.5 24.0 24.4 24.0 24.5 24.2 27.1 26.1 25.5
## [29] 24.2 23.9 24.0 22.5 24.5 23.6 24.7 22.9 26.0 21.6 24.6</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">KidsFeet[<span class="dv">4</span>]</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">length</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">24.4</td>
</tr>
<tr class="even">
<td align="right">25.4</td>
</tr>
<tr class="odd">
<td align="right">24.5</td>
</tr>
<tr class="even">
<td align="right">25.2</td>
</tr>
<tr class="odd">
<td align="right">25.1</td>
</tr>
<tr class="even">
<td align="right">25.7</td>
</tr>
<tr class="odd">
<td align="right">26.1</td>
</tr>
<tr class="even">
<td align="right">23.0</td>
</tr>
<tr class="odd">
<td align="right">23.6</td>
</tr>
<tr class="even">
<td align="right">22.9</td>
</tr>
<tr class="odd">
<td align="right">27.5</td>
</tr>
<tr class="even">
<td align="right">24.8</td>
</tr>
<tr class="odd">
<td align="right">26.1</td>
</tr>
<tr class="even">
<td align="right">27.0</td>
</tr>
<tr class="odd">
<td align="right">26.0</td>
</tr>
<tr class="even">
<td align="right">23.7</td>
</tr>
<tr class="odd">
<td align="right">24.0</td>
</tr>
<tr class="even">
<td align="right">24.7</td>
</tr>
<tr class="odd">
<td align="right">26.7</td>
</tr>
<tr class="even">
<td align="right">25.5</td>
</tr>
<tr class="odd">
<td align="right">24.0</td>
</tr>
<tr class="even">
<td align="right">24.4</td>
</tr>
<tr class="odd">
<td align="right">24.0</td>
</tr>
<tr class="even">
<td align="right">24.5</td>
</tr>
<tr class="odd">
<td align="right">24.2</td>
</tr>
<tr class="even">
<td align="right">27.1</td>
</tr>
<tr class="odd">
<td align="right">26.1</td>
</tr>
<tr class="even">
<td align="right">25.5</td>
</tr>
<tr class="odd">
<td align="right">24.2</td>
</tr>
<tr class="even">
<td align="right">23.9</td>
</tr>
<tr class="odd">
<td align="right">24.0</td>
</tr>
<tr class="even">
<td align="right">22.5</td>
</tr>
<tr class="odd">
<td align="right">24.5</td>
</tr>
<tr class="even">
<td align="right">23.6</td>
</tr>
<tr class="odd">
<td align="right">24.7</td>
</tr>
<tr class="even">
<td align="right">22.9</td>
</tr>
<tr class="odd">
<td align="right">26.0</td>
</tr>
<tr class="even">
<td align="right">21.6</td>
</tr>
<tr class="odd">
<td align="right">24.6</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="other-types-of-data" class="section level3">
<h3><span class="header-section-number">3.2.4</span> Other types of data</h3>
<p>Some types of data do not work well in a rectangular arrangement of a data frame,
and there are many other ways to store data. In R, other types of data commonly
get stored in a list of some sort.</p>
</div>
</div>
<div id="plotting-with-ggformula" class="section level2">
<h2><span class="header-section-number">3.3</span> Plotting with ggformula</h2>
<p>R has several plotting systems. Base graphics is the oldest. <code>lattice</code> and
<code>ggplot2</code> are both built on a system called grid graphics. <code>ggformula</code>
is built on <code>ggplot2</code> to make it easier to use and to bring in some of
the advantages of <code>lattice</code>.</p>
<p>You can find out about more about <code>ggformula</code> at <a href="https://projectmosaic.github.io/ggformula/news/index.html" class="uri">https://projectmosaic.github.io/ggformula/news/index.html</a>.</p>
</div>
<div id="creating-data-with-expand.grid" class="section level2">
<h2><span class="header-section-number">3.4</span> Creating data with expand.grid()</h2>
<p>We will frequently have need of synthetic data that includes all combinations
of some variable values. <code>expand.grid()</code> does this for us:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">expand.grid</span>(
  <span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, 
  <span class="dt">b =</span> <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>))</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">a</th>
<th align="left">b</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">A</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">A</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">A</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">B</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">B</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">B</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">C</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">C</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">C</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">D</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">D</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">D</td>
</tr>
</tbody>
</table>
</div>
<div id="transforming-and-summarizing-data-dplyr-and-tidyr" class="section level2">
<h2><span class="header-section-number">3.5</span> Transforming and summarizing data dplyr and tidyr</h2>
<p>See the tutorial at
<a href="http://rsconnect.calvin.edu/wrangling-jmm2019" class="uri">http://rsconnect.calvin.edu/wrangling-jmm2019</a> or
<a href="https://rpruim.shinyapps.io/wrangling-jmm2019" class="uri">https://rpruim.shinyapps.io/wrangling-jmm2019</a></p>
</div>
<div id="writing-functions" class="section level2">
<h2><span class="header-section-number">3.6</span> Writing Functions</h2>
<div id="why-write-functions" class="section level3">
<h3><span class="header-section-number">3.6.1</span> Why write functions?</h3>
<p>There are two main reasons for writing functions.</p>
<ol style="list-style-type: decimal">
<li><p>You may want to use a tool that requires a function as input.</p>
<p>To use <code>integrate()</code>, for example, you must provide the integrand as a function.</p></li>
<li><p>To make your own work easier.</p>
<p>Functions make it easier to reuse code or to break larger tasks into
smaller parts.</p></li>
</ol>
</div>
<div id="function-parts" class="section level3">
<h3><span class="header-section-number">3.6.2</span> Function parts</h3>
<p>Functions consist of several parts. Most importantly</p>
<ol style="list-style-type: decimal">
<li><p>An argument list.</p>
<p>A list of named inputs to the function. These may have default values (or not).
There is also a special argument <code>...</code> which gathers up any other arguments
provided by the user. Many R functions make use of <code>...</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">args</span>(ilogit)  <span class="co"># one argument, called x, no default value</span></code></pre>
<pre><code>## function (x) 
## NULL</code></pre></li>
<li><p>The body.</p>
<p>This is the code the tells R to do when the function is executed.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">body</span>(ilogit)</code></pre>
<pre><code>## {
##     exp(x)/(1 + exp(x))
## }</code></pre></li>
<li><p>An environment where code is executed.</p>
<p>Each function has its own “scratch pad” where it can do work without
interfering with global computations. But environments in R are
nested, so it is possible to reach outside of this narrow environment
to access other things (and possible to change them). For the most
part we won’t worry about this, but if you use a variable not defined
in your function but defined elsewhere, you may see unexpecte results.</p></li>
</ol>
<p>If you type the name of a function without parenthesis, you will see all three
parts listed:</p>
<pre class="sourceCode r"><code class="sourceCode r">ilogit</code></pre>
<pre><code>## function (x)
## {
##   exp(x)/(1 + exp(x))
## }
## &lt;bytecode: 0x7f981da236f0&gt;
## &lt;environment: namespace:mosaicCore&gt;</code></pre>
</div>
<div id="the-function-function-has-its-function" class="section level3">
<h3><span class="header-section-number">3.6.3</span> The function() function has its function</h3>
<p>To write a function we use the <code>function()</code> function to specify the
arguments and the body. (R will assign an environment for us.)</p>
<p>The general outline is</p>
<pre class="sourceCode r"><code class="sourceCode r">my_function_name &lt;-<span class="st"> </span>
<span class="st">  </span><span class="cf">function</span>(<span class="dt">arg1 =</span> default1, <span class="dt">arg2 =</span> default2, arg3, arg4, ...) {
    
    <span class="co"># stuff for my function to do</span>
  }</code></pre>
<p>We may include as many named arguments as we like, and some or all or none
of them may have default values. The results of the last line of the function
are returned. If we like, we can also use the <code>return()</code> function to make it
clear what is being returned when.</p>
<p>Let’s write a function that adds. (Redundant, but a useful illustration.)</p>
<pre class="sourceCode r"><code class="sourceCode r">foo &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">y =</span> <span class="dv">5</span>) {
  x <span class="op">+</span><span class="st"> </span>y     <span class="co"># or return(x + y)</span>
}
<span class="kw">foo</span>(<span class="dv">3</span>, <span class="dv">5</span>)</code></pre>
<pre><code>## [1] 8</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">foo</span>(<span class="dv">3</span>)</code></pre>
<pre><code>## [1] 8</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">foo</span>(<span class="dv">2</span>, <span class="dt">x =</span> <span class="dv">3</span>)   <span class="co"># Note: this makes y = 2</span></code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">foo</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y =</span> <span class="dv">100</span>)</code></pre>
<pre><code>## [1] 101 102 103</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">foo</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>))  <span class="co"># vectorized!</span></code></pre>
<pre><code>## [1] 101 202 303</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">foo</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">y =</span> <span class="kw">c</span>(<span class="dv">100</span>, <span class="dv">200</span>))       <span class="co"># You have been warned!</span></code></pre>
<pre><code>## Warning in x + y: longer object length is not a multiple of shorter object
## length</code></pre>
<pre><code>## [1] 101 202 103</code></pre>
<p>Here is a more useful example.
Suppose we want to integrate <span class="math inline">\(f(x) = x^2 (2-x)\)</span> on the interval from 0 to 2.
Since this is such a simple function, if we are not going to reuse it,
we don’t need to bother naming it, we can just create the function inside
our call to <code>integrate()</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">integrate</span>(<span class="cf">function</span>(x) { x<span class="op">^</span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">2</span><span class="op">-</span>x) }, <span class="dv">0</span>, <span class="dv">2</span>)</code></pre>
<pre><code>## 1.333 with absolute error &lt; 1.5e-14</code></pre>
</div>
</div>
<div id="some-common-error-messages" class="section level2">
<h2><span class="header-section-number">3.7</span> Some common error messages</h2>
<div id="object-not-found" class="section level3">
<h3><span class="header-section-number">3.7.1</span> object not found</h3>
<p>If R claims some object is not found, the two most likely causes are</p>
<ul>
<li><p>a typo – if you spell the name of the object slightly differently, R can’t figure out
what you mean</p>
<pre class="sourceCode r"><code class="sourceCode r">blah &lt;-<span class="st"> </span><span class="dv">17</span>
bla</code></pre>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;bla&#39; not found</code></pre></li>
<li><p>forgetting to load a package – if the object is in a package, that package must be
loaded</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">detach</span>(<span class="st">&quot;package:mosaic&quot;</span>, <span class="dt">unload =</span> <span class="ot">TRUE</span>)
<span class="kw">detach</span>(<span class="st">&quot;package:ggformula&quot;</span>, <span class="dt">unload =</span> <span class="ot">TRUE</span>)   <span class="co"># without packages, no gf_line()</span></code></pre>
<pre><code>## Error: package &#39;ggformula&#39; is required by &#39;CalvinBayes&#39; so will not be detached</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gf_line</span>()</code></pre>
<pre><code>## gf_line() uses 
##     * a formula with shape y ~ x. 
##     * geom:  line 
##     * key attributes:  alpha, color, fill, group, linetype, size, lineend,
##                    linejoin, linemitre, arrow
## 
## For more information, try ?gf_line</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggformula)      <span class="co"># reload package; now things work</span>
<span class="kw">gf_line</span>()</code></pre>
<pre><code>## gf_line() uses 
##     * a formula with shape y ~ x. 
##     * geom:  line 
##     * key attributes:  alpha, color, fill, group, linetype, size, lineend,
##                    linejoin, linemitre, arrow
## 
## For more information, try ?gf_line</code></pre>
<h3 id="package-inputenc-error-unicode-char-not-set-up-for-use-with-latex."><span class="header-section-number">3.7.1</span> Package inputenc Error: Unicode char not set up for use with LaTeX.</h3></li>
</ul>
<p>Sometimes if you copy and paste text from a web page or PDF document you will get
symbols knitr doesn’t know how to handle. Smart quotes, ligatures, and other special
characters are the most likely cause.</p>
<p><code>tools::showNonASCIIfile()</code> can help you locate non-ASCII characters in a file.</p>
</div>
<div id="any-message-mentioning-yaml" class="section level3">
<h3><span class="header-section-number">3.7.2</span> Any message mentioning yaml</h3>
<p>YAML stand for yet another markup language. The first part of an R Markdown
file is called the YAML header. If you get a yaml error when you knit a
document, most likely you have messed up the YAML header someone. If you don’t
see the problem, you can start a new document and copy-and-paste the contents
(without the TAML header) into the new document (after its YAML header).</p>
</div>
</div>
<div id="ch03-exercises" class="section level2">
<h2><span class="header-section-number">3.8</span> Exercises</h2>
<ol style="list-style-type: decimal">
<li><p>Create a function in R that converts Fahrenheit temperatures to
Celsius temperatures. [Hint: <span class="math inline">\(C = (F-32) \cdot 5/9\)</span>.]</p>
<p>What you turn in should show</p>
<ol style="list-style-type: lower-alpha">
<li>the code that defines your function.</li>
<li>some test cases that show that your function is working. (Show that
-40, 32, 98.6, and 212 convert to -40, 0, 37, and 100.)
Note: you should be able to test all these cases by calling the function
only once. Use <code>c(-40, 32, 98.6, 212)</code> as the input.</li>
</ol></li>
<li><p>See if you can predict the output of each line below. Then run in R to see if
you are correct. If you are not correct, see if you can figure out why R does what
it does (and make a note so you are not surprised the next time).</p></li>
</ol>
<pre class="sourceCode r"><code class="sourceCode r">odds &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">0</span><span class="op">:</span><span class="dv">4</span>); odds
primes &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">11</span>, <span class="dv">13</span>)
<span class="kw">length</span>(odds)
<span class="kw">length</span>(primes)
odds <span class="op">+</span><span class="st"> </span><span class="dv">1</span>
odds <span class="op">+</span><span class="st"> </span>primes
odds <span class="op">*</span><span class="st"> </span>primes
odds <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>
<span class="kw">sum</span>(odds <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>)
<span class="kw">sum</span>(primes <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span> <span class="op">|</span><span class="st"> </span>primes <span class="op">&gt;</span><span class="st"> </span><span class="dv">9</span>)
odds[<span class="dv">3</span>]
odds[<span class="dv">10</span>]
odds[<span class="op">-</span><span class="dv">3</span>]
primes[odds]
primes[primes <span class="op">&gt;=</span><span class="st"> </span><span class="dv">7</span>]
<span class="kw">sum</span>(primes[primes <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>])
<span class="kw">sum</span>(odds[odds <span class="op">&gt;</span><span class="st"> </span><span class="dv">5</span>])
odds[<span class="dv">10</span>] &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="dv">9</span>
odds
y &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>
y &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>; y
(x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li><p>The problem uses the <code>KidsFeet</code> data set from the <code>mosaicData</code> package.
The hints are suggested functions that might be of use.</p>
<ol style="list-style-type: lower-alpha">
<li>How many kids are represented in the data set. [Hint: <code>nrow()</code> or <code>dim()</code>]</li>
<li>Which of the variables are factors? [Hint: <code>glimpse()</code>]</li>
<li>Add a new variable called <code>foot_ratio</code> that is equal to
<code>length</code> divided by <code>width</code>. [Hint: <code>mutate()</code>]</li>
<li>Add a new variable called <code>biggerfoot2</code> that has values
<code>&quot;dom&quot;</code> (if <code>domhand</code> and <code>biggerfoot</code> are the same) and
<code>&quot;nondom&quot;</code> (if <code>domhand</code> and <code>biggerfoot</code> are different).
[Hint: <code>mutate()</code>, <code>==</code>, <code>ifelse()</code>]</li>
<li>Create new data set called <code>Boys</code> that contains only the boys.
[Hint: <code>filter()</code>, <code>==</code>]</li>
<li>What is the name of the boy with the largest <code>foot_ratio</code>?
Show how to find this programmatically, don’t just scan through
the whole data set yourself. [Hint: <code>max()</code> or <code>arrange()</code>]</li>
</ol></li>
</ol>
</div>
<div id="footnotes-1" class="section level2">
<h2><span class="header-section-number">3.9</span> Footnotes</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="credibility-models-and-parameters.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="probability.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["Redoing.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
